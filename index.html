<!-- Adicione dentro do header, ao lado do mês/ano -->
<input id="fiiTicker" type="text" placeholder="Ativo (Ex: XPLG11)" style="width:100px" title="Insira o ticker do fundo" />

<!-- No JavaScript, vamos modificar addMonth e loadMonthToUI -->
<script>
// ... manter todo o código existente ...

function defaultStructure(){
  const nodes = document.querySelectorAll('[data-key]');
  const obj = {};
  nodes.forEach(n=>{
    const k = n.getAttribute('data-key');
    if(!k) return;
    if(n.type === 'checkbox') obj[k] = false;
    else if(n.tagName === 'TEXTAREA' || n.tagName === 'INPUT') obj[k] = '';
    else obj[k] = '';
  });
  // NOVO: campo do ativo
  obj['meta.ativo'] = '';
  return obj;
}

// NOVO: salvar e carregar campo ativo
function loadMonthToUI(m){
  const db = loadDB();
  const data = db.months[m] || defaultStructure();
  const nodes = document.querySelectorAll('[data-key]');
  nodes.forEach(n=>{
    const k = n.getAttribute('data-key');
    if(!(k in data)) { if(n.type==='checkbox') n.checked=false; else n.value=''; return; }
    if(n.type==='checkbox') n.checked = !!data[k];
    else n.value = data[k] || '';
  });
  // Carregar campo ativo
  document.getElementById('fiiTicker').value = data['meta.ativo'] || '';
  const last = localStorage.getItem(STORAGE_KEY + '::lastSaved::' + m);
  document.getElementById('lastSaved').textContent = last ? new Date(last).toLocaleString() : '—';
}

function saveCurrentMonth(){
  const m = getCurrentMonthKey();
  if(!m) { alert('Escolha ou adicione um mês primeiro.'); return; }
  const db = loadDB();
  db.months[m] = db.months[m] || {};
  const nodes = document.querySelectorAll('[data-key]');
  nodes.forEach(n=>{
    const k = n.getAttribute('data-key');
    if(!k) return;
    if(n.type==='checkbox') db.months[m][k] = !!n.checked;
    else db.months[m][k] = n.value || '';
  });
  // NOVO: salvar campo ativo
  db.months[m]['meta.ativo'] = document.getElementById('fiiTicker').value.trim();
  saveDB(db);
  localStorage.setItem(STORAGE_KEY + '::lastSaved::' + m, new Date().toISOString());
  document.getElementById('lastSaved').textContent = new Date().toLocaleString();
  renderMonthsList();
}

// NOVO: auto-adicionar <textarea> vazio em itens sem observação
document.querySelectorAll('.item').forEach(item=>{
  if(!item.querySelector('textarea')){
    const ta = document.createElement('textarea');
    ta.className = 'note';
    ta.placeholder = 'Observações...';
    item.appendChild(ta);
  }
});
</script>

